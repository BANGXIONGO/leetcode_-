主要还是使用二分法的二段性具体看[153. 寻找旋转排序数组中的最小值](153.%20寻找旋转排序数组中的最小值.md)

```python 
class Solution:

    def search(self, nums: List[int], target: int) -> int:

        left , right = 0 , len(nums)-1

  

        while left < right:

            mid = (right +left) //2

            if target ==nums[-1]:

                return len(nums) -1

            if nums[mid]>nums[-1] > target :#mid在第一段， tartget在第二段

                left = mid + 1

            elif nums[mid]<nums[-1] <target:#mid在第二段 ， target在第一段

                right = mid -  1

            #下面是mid和target在同一段的情况 ， 所有只需要比较大小        

            elif nums[mid]>target:

                right  = mid -1

            elif nums[mid ] == target :

                return mid

            else :

                left = mid +1

        return -1 if nums[left]!= target else left#注意找到最后分存在和不存在的情况
```