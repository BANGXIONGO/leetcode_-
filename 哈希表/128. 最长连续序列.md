
2025-07-05

---
## 哈希表set的使用
当定好以一个x为起点的时候， 接下来就是查找x+1 是否存在，这时候要想到使用哈希表来查找

为了做到 O(n) 的时间复杂度，需要两个关键优化：

把 nums 中的数都放入一个哈希集合中，这样可以 O(1) 判断数字是否在 nums 中。
如果 x−1 在哈希集合中，则不以 x 为起点。为什么？因为以 x−1 为起点计算出的序列长度，一定比以 x 为起点计算出的序列长度要长！这样可以避免大量重复计算。比如 nums=[3,2,4,5]，从 3 开始，我们可以找到 3,4,5 这个连续序列；而从 2 开始，我们可以找到 2,3,4,5 这个连续序列，一定比从 3 开始的序列更长。

查找元素是否在集合中出现，想到用hash表

```python
class Solution:

    def longestConsecutive(self, nums: List[int]) -> int:

        ans = 0

        nums_set = set(nums)

        for x in nums_set:

            if x-1 in nums_set:

                continue

            tem_ans=1

            while x+1 in nums_set:

                x += 1

                tem_ans+=1

            ans = max(tem_ans , ans)

        return ans
```

